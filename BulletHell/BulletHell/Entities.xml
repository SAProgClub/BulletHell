<?xml version="1.0" encoding="utf-8" ?>

<!--
entSpawn.MakeType("RedSpiral", null, o1, entEl, enemy, em,null,Enemy.MakeEnemy());
-->
<Game>
  <PhysicsShape name="EnemyEllipse" type ="Ellipse">
    <radius>7</radius>
  </PhysicsShape>
<!--
Trajectory[][] arrs = new Trajectory[offsets][];
for (int i = 0; i < offsets; i++)
    arrs[i] = new Trajectory[perCirc];
for (int i = 0; i < perCirc; i++)
{
    for (int j = 0; j < offsets; j++)
    {
        arrs[j][i] = TrajectoryFactory.AngleMagVel((i * offsets + j) * (FULL / offsets / perCirc) + DOWN, 10);
    }
}
-->
  
  <BulletEmitter name ="Spiral"><script>
    <var name="offsets" type="int"></var>
    <var name="perCirc" type="int"></var>
    <foreach var="int x" in="1..perCirc">
      <yield>
        <BulletPattern><script>
          <foreach var="int y" in="1..offsets">
            <yield>
              <Trajectory>
                <Velocity>
                  <angle>
                    <script>
                      <yield>((x-1)*offsets+y)*(FULL/offsets/perCirc)+DOWN</yield>
                    </script>
                  </angle>
                  <magnitude>10</magnitude>
                </Velocity>
              </Trajectory>
            </yield>
          </foreach>
        </script></BulletPattern>
      </yield>
    </foreach>
  </script></BulletEmitter>

  <Entity name ="RedSpiral">
    <Class type="Enemy"/>
    <Trajectory>null</Trajectory>
    <Drawable type="shape">
      <PhysicsShape name="EnemyEllipse"/>
      <GraphicsStyle>
        <Brush>Green</Brush>
      </GraphicsStyle>
    </Drawable>
    <PhysicsShape name="EnemyEllipse"/>
    <EntityClass>
      <PhysicsClass>Enemy</PhysicsClass>
      <RenderClass>Character</RenderClass>
    </EntityClass>
    <BulletEmitter name="Spiral"/>
  </Entity>
</Game>